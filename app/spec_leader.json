{
  "definitions": {
    "Campaign": {
      "properties": {
        "author": {
          "type": "string"
        },
        "destination": {
          "type": "string"
        },
        "place": {
          "type": "string"
        },
        "purpose": {
          "type": "string"
        },
        "requirement": {
          "$ref": "#/definitions/Requirement"
        },
        "trigger": {
          "type": "object"
        }
      },
      "type": "object"
    },
    "CommanderInfo": {
      "properties": {
        "campaigns": {
          "items": {
            "$ref": "#/definitions/Campaign"
          },
          "type": "array"
        },
        "endpoint": {
          "type": "string"
        },
        "id": {
          "description": "the man's ID",
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "subordinates": {
          "description": "A list of subordinates's ID",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "LeaderInfo": {
      "properties": {
        "endpoint": {
          "type": "string"
        },
        "id": {
          "description": "the man's ID",
          "type": "string"
        },
        "missions": {
          "items": {
            "$ref": "#/definitions/Mission"
          },
          "type": "array"
        },
        "name": {
          "type": "string"
        },
        "subordinates": {
          "description": "A list of subordinates's ID",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "Mission": {
      "properties": {
        "author": {
          "type": "string"
        },
        "place": {
          "type": "string"
        },
        "purpose": {
          "type": "string"
        },
        "requirement": {
          "$ref": "#/definitions/Requirement"
        },
        "trigger": {
          "type": "object"
        }
      },
      "type": "object"
    },
    "Order": {
      "properties": {
        "author": {
          "type": "string"
        },
        "purpose": {
          "type": "string"
        },
        "trigger": {
          "type": "object"
        },
        "values": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "Report": {
      "properties": {
        "purpose": {
          "type": "string"
        },
        "time": {
          "type": "string"
        },
        "values": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "Requirement": {
      "properties": {
        "trigger": {
          "type": "object"
        },
        "values": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "ResponseStatus": {
      "properties": {
        "msg": {
          "type": "string"
        },
        "success": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "SoldierInfo": {
      "properties": {
        "id": {
          "description": "the man's ID",
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "orders": {
          "items": {
            "$ref": "#/definitions/Order"
          },
          "type": "array"
        },
        "weapons": {
          "description": "A list of weapon",
          "items": {
            "type": "object"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "Work": {
      "properties": {
        "purpose": {
          "type": "string"
        },
        "time": {
          "type": "string"
        },
        "values": {
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "info": {
    "title": "SensingTroops",
    "version": "0.0.0"
  },
  "paths": {
    "/leader/": {
      "get": {
        "description": "\u3053\u306eLeader\u306e\u60c5\u5831\u3092json\u5f62\u5f0f\u3067\u8fd4\u3059",
        "responses": {
          "200": {
            "description": "Leader's information",
            "schema": {
              "properties": {
                "_status": {
                  "$ref": "#/definitions/ResponseStatus",
                  "description": "Response status"
                },
                "info": {
                  "$ref": "#/definitions/LeaderInfo",
                  "description": "Leader's information"
                }
              }
            }
          }
        },
        "summary": "Information of this leader"
      }
    },
    "/leader/missions": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "A list of missions that is accepted by the leader",
            "schema": {
              "properties": {
                "_status": {
                  "$ref": "#/definitions/ResponseStatus",
                  "description": "Response status"
                },
                "missions": {
                  "items": {
                    "$ref": "#/definitions/Mission"
                  },
                  "type": "array"
                }
              }
            }
          }
        },
        "summary": "Accepted missions"
      }
    },
    "/leader/subordinates": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "The subordinate is found",
            "schema": {
              "properties": {
                "_status": {
                  "$ref": "#/definitions/ResponseStatus",
                  "description": "Response status"
                },
                "subordinates": {
                  "description": "Information object of the subordinate",
                  "items": {
                    "$ref": "#/definitions/SoldierInfo"
                  },
                  "type": "array"
                }
              }
            }
          }
        },
        "summary": "All subordinates of this leader"
      },
      "post": {
        "description": "",
        "parameters": [
          {
            "description": "Information of a soldier who is to join",
            "in": "body",
            "name": "subordinate",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SoldierInfo"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The soldier is accepted",
            "schema": {
              "properties": {
                "_status": {
                  "$ref": "#/definitions/ResponseStatus",
                  "description": "Response status"
                },
                "accepted": {
                  "$ref": "#/definitions/SoldierInfo",
                  "description": "Information object of the subordinate"
                }
              }
            }
          }
        },
        "summary": "Add new soldier"
      }
    },
    "/leader/subordinates/{sub_id}": {
      "get": {
        "description": "",
        "parameters": [
          {
            "description": "ID of a requested subordinate",
            "in": "path",
            "name": "sub_id",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "The subordinate is found",
            "schema": {
              "properties": {
                "_status": {
                  "$ref": "#/definitions/ResponseStatus",
                  "description": "Response status"
                },
                "info": {
                  "$ref": "#/definitions/SoldierInfo",
                  "description": "Information object of the subordinate"
                }
              }
            }
          }
        },
        "summary": "Information of a subordinate"
      }
    },
    "/leader/subordinates/{sub_id}/work": {
      "post": {
        "description": "",
        "parameters": [
          {
            "description": "The work's author-id",
            "in": "path",
            "name": "sub_id",
            "type": "string"
          },
          {
            "description": "A work to be accepted",
            "in": "body",
            "name": "work",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Work"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The work is accepted",
            "schema": {
              "properties": {
                "_status": {
                  "$ref": "#/definitions/ResponseStatus",
                  "description": "Response status"
                },
                "accepted": {
                  "$ref": "#/definitions/Work",
                  "description": "The accepted work"
                }
              }
            }
          }
        },
        "summary": "Accept new work"
      }
    }
  },
  "swagger": "2.0"
}
